#!/usr/bin/env bash

set -euo pipefail

# Switch to the dotfiles directory.
cd "$(dirname "$0")/../.."

# Ensure the latest version of Neovim in installed.
brew install neovim

# Uninstall the previously installed version of NvChad.
rm -rf ~/.config/nvim
rm -rf ~/.local/share/nvim
rm -rf ~/.cache/nvim

# Install AstroNvim.
git clone https://github.com/AstroNvim/AstroNvim ~/.config/nvim

# Set up the configuration.
rcup config/nvim

# Initialize Neovim.
nvim  --headless -c 'autocmd User PackerComplete quitall'
