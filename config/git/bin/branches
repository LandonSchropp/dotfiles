#!/usr/bin/env bash

set -euo pipefail

# Only output color if the command isn't being piped.
if [ -t 1 ]; then
  color="always"
else
  color="auto"
fi

git branch \
  --color="$color" \
  --sort=authordate \
  --format="%(color:blue)%(authordate:relative);%(color:red)%(authorname);%(color:white)%(color:bold)%(refname:short)" \
  "$@" |
  column -s ";" -t
